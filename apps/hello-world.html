<!doctype html>
<html>

<head>
</head>

<body>
  <!-- "gui" -->
  <div>
    <img src="images/rs-logo.png" style="width: 50px;"/>
  </div>
  <div>
    <form action="javascript:void(0);">
      <label for="id-string">ID String:</label>
      <input id="id-string" type="text" style="width: 350px;"/>
      <input type="button" onclick="queryId()" value="*IDN?"/>
    </form>
  </div>

  <!-- code -->
  <script src="javascript/serial-socket.js"></script>
  <script>
    async function queryId() {
      // open websocket
      let instr = new SerialSocket();
      await instr.open();

      // query id string
      let idString = await instr.query('*IDN?\n');

      // update text
      let input = document.getElementById('id-string');
      input.value = idString;
    }
  </script>
</body>
</html>
